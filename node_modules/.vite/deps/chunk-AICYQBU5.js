import {
  Engine,
  init_engine
} from "./chunk-Y23C3XZB.js";
import {
  Scene,
  Tools,
  init_scene,
  init_tools
} from "./chunk-YCJ6WHUD.js";
import {
  EngineStore,
  Observable,
  __esm,
  init_engineStore,
  init_observable
} from "./chunk-N3NUGEQO.js";

// node_modules/@babylonjs/core/Debug/debugLayer.js
var DebugLayerTab, DebugLayer;
var init_debugLayer = __esm({
  "node_modules/@babylonjs/core/Debug/debugLayer.js"() {
    init_tools();
    init_observable();
    init_scene();
    init_engine();
    init_engineStore();
    Object.defineProperty(Scene.prototype, "debugLayer", {
      get: function() {
        if (!this._debugLayer) {
          this._debugLayer = new DebugLayer(this);
        }
        return this._debugLayer;
      },
      enumerable: true,
      configurable: true
    });
    (function(DebugLayerTab2) {
      DebugLayerTab2[DebugLayerTab2["Properties"] = 0] = "Properties";
      DebugLayerTab2[DebugLayerTab2["Debug"] = 1] = "Debug";
      DebugLayerTab2[DebugLayerTab2["Statistics"] = 2] = "Statistics";
      DebugLayerTab2[DebugLayerTab2["Tools"] = 3] = "Tools";
      DebugLayerTab2[DebugLayerTab2["Settings"] = 4] = "Settings";
    })(DebugLayerTab || (DebugLayerTab = {}));
    DebugLayer = class {
      get onPropertyChangedObservable() {
        if (this.BJSINSPECTOR && this.BJSINSPECTOR.Inspector) {
          return this.BJSINSPECTOR.Inspector.OnPropertyChangedObservable;
        }
        if (!this._onPropertyChangedObservable) {
          this._onPropertyChangedObservable = new Observable();
        }
        return this._onPropertyChangedObservable;
      }
      get onSelectionChangedObservable() {
        if (this.BJSINSPECTOR && this.BJSINSPECTOR.Inspector) {
          return this.BJSINSPECTOR.Inspector.OnSelectionChangeObservable;
        }
        if (!this._onSelectionChangedObservable) {
          this._onSelectionChangedObservable = new Observable();
        }
        return this._onSelectionChangedObservable;
      }
      constructor(scene) {
        this.BJSINSPECTOR = this._getGlobalInspector();
        this._scene = scene || EngineStore.LastCreatedScene;
        if (!this._scene) {
          return;
        }
        this._scene.onDisposeObservable.add(() => {
          if (this._scene._debugLayer) {
            this._scene._debugLayer.hide();
          }
        });
      }
      _createInspector(config) {
        if (this.isVisible()) {
          return;
        }
        if (this._onPropertyChangedObservable) {
          for (const observer of this._onPropertyChangedObservable.observers) {
            this.BJSINSPECTOR.Inspector.OnPropertyChangedObservable.add(observer);
          }
          this._onPropertyChangedObservable.clear();
          this._onPropertyChangedObservable = void 0;
        }
        if (this._onSelectionChangedObservable) {
          for (const observer of this._onSelectionChangedObservable.observers) {
            this.BJSINSPECTOR.Inspector.OnSelectionChangedObservable.add(observer);
          }
          this._onSelectionChangedObservable.clear();
          this._onSelectionChangedObservable = void 0;
        }
        const userOptions = Object.assign({ overlay: false, showExplorer: true, showInspector: true, embedMode: false, handleResize: true, enablePopup: true }, config);
        this.BJSINSPECTOR = this.BJSINSPECTOR || this._getGlobalInspector();
        this.BJSINSPECTOR.Inspector.Show(this._scene, userOptions);
      }
      select(entity, lineContainerTitles) {
        if (this.BJSINSPECTOR) {
          if (lineContainerTitles) {
            if (Object.prototype.toString.call(lineContainerTitles) == "[object String]") {
              this.BJSINSPECTOR.Inspector.MarkLineContainerTitleForHighlighting(lineContainerTitles);
            } else {
              this.BJSINSPECTOR.Inspector.MarkMultipleLineContainerTitlesForHighlighting(lineContainerTitles);
            }
          }
          this.BJSINSPECTOR.Inspector.OnSelectionChangeObservable.notifyObservers(entity);
        }
      }
      _getGlobalInspector() {
        if (typeof INSPECTOR !== "undefined") {
          return INSPECTOR;
        }
        if (typeof BABYLON !== "undefined" && typeof BABYLON.Inspector !== "undefined") {
          return BABYLON;
        }
        return void 0;
      }
      isVisible() {
        return this.BJSINSPECTOR && this.BJSINSPECTOR.Inspector.IsVisible;
      }
      hide() {
        if (this.BJSINSPECTOR) {
          this.BJSINSPECTOR.Inspector.Hide();
        }
      }
      setAsActiveScene() {
        if (this.BJSINSPECTOR) {
          this.BJSINSPECTOR.Inspector._SetNewScene(this._scene);
        }
      }
      show(config) {
        return new Promise((resolve) => {
          if (typeof this.BJSINSPECTOR == "undefined") {
            const inspectorUrl = config && config.inspectorURL ? config.inspectorURL : DebugLayer.InspectorURL;
            Tools.LoadScript(inspectorUrl, () => {
              this._createInspector(config);
              resolve(this);
            });
          } else {
            this._createInspector(config);
            resolve(this);
          }
        });
      }
    };
    DebugLayer.InspectorURL = `https://unpkg.com/babylonjs-inspector@${Engine.Version}/babylon.inspector.bundle.js`;
  }
});

export {
  DebugLayerTab,
  DebugLayer,
  init_debugLayer
};
//# sourceMappingURL=chunk-AICYQBU5.js.map
